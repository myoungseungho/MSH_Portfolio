<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가상머신 (Virtual Machine) - MSH Portfolio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
        .back-link {
            display: inline-block;
            margin-bottom: 24px;
            color: #666;
            text-decoration: none;
        }
        .back-link:hover { color: #111; }
        .header { margin-bottom: 48px; }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }

        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #1a237e;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e8eaf6;
        }

        .chat { margin-bottom: 20px; }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before {
            content: "Q. ";
            color: #e65100;
            font-weight: 700;
        }
        .a {
            padding: 8px 0 8px 20px;
            border-left: 4px solid #e0e0e0;
            margin: 12px 0;
        }
        .a p { margin-bottom: 12px; }
        .a p:last-child { margin-bottom: 0; }

        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #c8e6c9;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #2e7d32;
        }
        .warning {
            background: #ffcdd2;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #c62828;
        }

        .code-block {
            background: #263238;
            border-radius: 8px;
            padding: 16px 20px;
            margin: 16px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            color: #eceff1;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .compare-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.9rem;
        }
        .compare-table th, .compare-table td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        .compare-table th {
            background: #f5f5f5;
            font-weight: 600;
        }
        .compare-table .good {
            background: #c8e6c9;
            font-weight: 600;
        }
        .compare-table .bad {
            background: #ffcdd2;
        }

        .summary-box {
            background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .summary-box ul {
            list-style: none;
        }
        .summary-box li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
        }
        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #90caf9;
        }

        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a {
            color: #1a237e;
            text-decoration: none;
        }
        .nav-links a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../category-cs/" class="back-link">← CS 기초</a>

        <header class="header">
            <h1>가상머신 (Virtual Machine)</h1>
            <p>머신이 뭐고, 가상머신이 뭐고, 어떻게 동작하는 걸까?</p>
        </header>

        <!-- Part 1: 머신이란 -->
        <div class="conversation">
            <h2>Part 1. "머신"이 뭐야?</h2>

            <div class="chat">
                <div class="q">컴퓨터를 켜면 뭐가 실행돼?</div>
                <div class="a">
                    <p>운영체제! (Windows, Linux, macOS)</p>
                </div>
            </div>

            <div class="chat">
                <div class="q">운영체제는 어디서 돌아가?</div>
                <div class="a">
                    <p><span class="highlight">하드웨어</span> 위에서! (CPU, RAM, 디스크)</p>
                </div>
            </div>

            <div class="code-block">[컴퓨터 구조]

[응용 프로그램]  크롬, 게임, VSCode...
      ↓
[운영체제]       Windows, Linux
      ↓
[머신/하드웨어]  CPU, RAM, SSD...

머신 (Machine) = 하드웨어 = 컴퓨터</div>
        </div>

        <!-- Part 2: 가상머신이란 -->
        <div class="conversation">
            <h2>Part 2. 그럼 "가상머신"은?</h2>

            <div class="chat">
                <div class="q">"가상"이 무슨 뜻이야?</div>
                <div class="a">
                    <p>진짜가 아닌데 진짜처럼 보이는 것!</p>
                </div>
            </div>

            <div class="code-block">가상 메모리 = 진짜 메모리가 아닌데 메모리처럼 보이는 것
가상 머신   = 진짜 머신이 아닌데 머신처럼 보이는 것
           = 소프트웨어로 만든 가짜 컴퓨터!</div>

            <div class="chat">
                <div class="q">왜 필요해?</div>
            </div>

            <div class="code-block">[원래 상황]

컴퓨터 1대 = 운영체제 1개

Windows 쓰고 싶으면 → Windows 컴퓨터 1대
Linux 쓰고 싶으면   → Linux 컴퓨터 1대
macOS 쓰고 싶으면   → Mac 1대

3개 다 쓰려면 → 컴퓨터 3대 사야 함!</div>

            <div class="code-block">[가상머신 쓰면]

컴퓨터 1대 안에:
┌─────────────────────────────────┐
│  [VM 1]      [VM 2]      [VM 3] │
│  Windows     Linux       macOS  │
│     ↓          ↓           ↓    │
│  가상CPU     가상CPU     가상CPU │
│  가상RAM     가상RAM     가상RAM │
├─────────────────────────────────┤
│         진짜 하드웨어            │
│      (CPU, RAM, SSD 1세트)      │
└─────────────────────────────────┘

컴퓨터 1대로 3개 운영체제 동시 실행!</div>
        </div>

        <!-- Part 3: 하이퍼바이저 -->
        <div class="conversation">
            <h2>Part 3. 누가 관리해?</h2>

            <div class="chat">
                <div class="q">가상머신들이 진짜 CPU 쓰고 싶으면 누가 관리해?</div>
                <div class="a">
                    <p><span class="highlight">하이퍼바이저 (Hypervisor)</span>!</p>
                </div>
            </div>

            <div class="code-block">[비유]

프로세스들 → CPU 쓰고 싶어 → 운영체제(스케줄러)가 관리
가상머신들 → 하드웨어 쓰고 싶어 → 하이퍼바이저가 관리</div>

            <div class="chat">
                <div class="q">하이퍼바이저 이름이 왜 이래?</div>
                <div class="a">
                    <p>운영체제 = supervisor (감독자) - 프로세스들 관리</p>
                    <p>하이퍼바이저 = hyper(위) + visor(감독자)</p>
                    <p><span class="key-point">감독자(운영체제) 위에서 감독하는 놈!</span></p>
                </div>
            </div>

            <div class="code-block">[구조]

[VM 1]      [VM 2]      [VM 3]
Windows     Linux       macOS
   ↓          ↓           ↓
┌─────────────────────────────────┐
│        하이퍼바이저              │
│  (가상머신들을 관리하는 소프트웨어) │
└─────────────────────────────────┘
              ↓
┌─────────────────────────────────┐
│         진짜 하드웨어            │
└─────────────────────────────────┘</div>
        </div>

        <!-- Part 4: 하이퍼바이저 종류 -->
        <div class="conversation">
            <h2>Part 4. 하이퍼바이저 종류</h2>

            <div class="chat">
                <div class="q">하이퍼바이저는 어디에 설치돼?</div>
                <div class="a">
                    <p>두 가지 방식이 있어!</p>
                </div>
            </div>

            <div class="code-block">[Type 1: 하드웨어 바로 위에 (베어메탈)]

[VM 1]      [VM 2]      [VM 3]
   ↓          ↓           ↓
┌─────────────────────────────────┐
│         하이퍼바이저             │
└─────────────────────────────────┘
              ↓
┌─────────────────────────────────┐
│         진짜 하드웨어            │
└─────────────────────────────────┘

→ 운영체제 없이 바로 하드웨어 위에!
→ 빠름!
→ 예: VMware ESXi, Hyper-V (서버용)</div>

            <div class="code-block">[Type 2: 운영체제 위에 (호스트형)]

[VM 1]      [VM 2]
   ↓          ↓
┌─────────────────────────────────┐
│         하이퍼바이저             │
└─────────────────────────────────┘
              ↓
┌─────────────────────────────────┐
│    호스트 운영체제 (Windows)     │
└─────────────────────────────────┘
              ↓
┌─────────────────────────────────┐
│         진짜 하드웨어            │
└─────────────────────────────────┘

→ 운영체제 위에 프로그램처럼 설치!
→ 편함!
→ 예: VirtualBox, VMware Workstation</div>

            <table class="compare-table">
                <tr>
                    <th></th>
                    <th>Type 1 (베어메탈)</th>
                    <th>Type 2 (호스트형)</th>
                </tr>
                <tr>
                    <td>위치</td>
                    <td>하드웨어 바로 위</td>
                    <td>운영체제 위</td>
                </tr>
                <tr>
                    <td>속도</td>
                    <td class="good">빠름</td>
                    <td>느림</td>
                </tr>
                <tr>
                    <td>용도</td>
                    <td>서버, 데이터센터</td>
                    <td>개인 PC</td>
                </tr>
                <tr>
                    <td>예시</td>
                    <td>ESXi, Hyper-V</td>
                    <td>VirtualBox, VMware</td>
                </tr>
            </table>
        </div>

        <!-- Part 5: 명령어 처리 -->
        <div class="conversation">
            <h2>Part 5. 가상머신 안에서 프로그램이 실행되면?</h2>

            <div class="chat">
                <div class="q">VM 안에서 ADD 1, 2 같은 명령어가 실행되면 어떻게 돼?</div>
                <div class="a">
                    <p>대부분 <span class="key-point">진짜 CPU에서 실행</span>돼!</p>
                </div>
            </div>

            <div class="chat">
                <div class="q">모든 명령어가 다 진짜 실행돼?</div>
                <div class="a">
                    <p>아니! <span class="warning">특권 명령어</span>는 문제가 생겨.</p>
                </div>
            </div>

            <div class="code-block">[일반 명령어]
ADD 1, 2     → 덧셈
MOV a, b     → 값 복사

→ 진짜 CPU에서 실행해도 문제없음!


[특권 명령어]
"디스크에 써줘"
"네트워크로 보내줘"

→ VM 1도 디스크 쓰고 싶고, VM 2도 쓰고 싶으면?
→ 충돌! 덮어쓰기! 보안 문제!</div>

            <div class="chat">
                <div class="q">특권 명령어는 어떻게 처리해?</div>
                <div class="a">
                    <p><span class="highlight">하이퍼바이저가 가로챔!</span></p>
                </div>
            </div>

            <div class="code-block">[특권 명령어 처리]

VM 1: "디스크 100번에 써줘"
         ↓
하이퍼바이저: "잠깐! VM 1 전용 공간은 1000~1999번이야"
         ↓
하이퍼바이저가 대신 1100번에 씀
         ↓
VM 1은 100번에 쓴 줄 앎 (가상 주소!)</div>

            <div class="chat">
                <div class="q">어? 이거 어디서 본 패턴인데?</div>
                <div class="a">
                    <p><span class="key-point">가상 메모리랑 같은 원리!</span></p>
                </div>
            </div>

            <div class="code-block">[같은 패턴!]

가상 메모리:
가상 주소 → 진짜 주소
운영체제가 변환

가상 머신:
가상 하드웨어 → 진짜 하드웨어
하이퍼바이저가 변환

가상화 = 가짜를 진짜처럼 보이게 하고
        중간에서 누군가가 변환해주는 것!</div>

            <div class="code-block">[정리]

VM 안에서 프로그램 실행:

[일반 명령어] ADD, MOV 등
→ 진짜 CPU에서 바로 실행 (빠름!)
→ 90% 이상의 명령어

[특권 명령어] 하드웨어 접근 등
→ 하이퍼바이저가 가로채서 변환
→ 약간 느림, 하지만 안전!

이래서 가상머신이 "거의" 진짜 속도로 돌아감!</div>
        </div>

        <!-- Part 6: 컨테이너 vs VM -->
        <div class="conversation">
            <h2>Part 6. 컨테이너 vs 가상머신</h2>

            <div class="chat">
                <div class="q">Docker라고 들어봤어?</div>
                <div class="a">
                    <p>Docker도 가상화인데, 가상머신이랑 달라!</p>
                </div>
            </div>

            <div class="code-block">[가상머신]

[VM 1]           [VM 2]
┌──────────┐    ┌──────────┐
│ 앱 A     │    │ 앱 B     │
│ Ubuntu   │    │ CentOS   │ ← 운영체제 통째로!
│ 가상CPU  │    │ 가상CPU  │
│ 가상RAM  │    │ 가상RAM  │
└──────────┘    └──────────┘
       ↓              ↓
┌─────────────────────────────┐
│       하이퍼바이저           │
└─────────────────────────────┘
              ↓
┌─────────────────────────────┐
│      호스트 운영체제         │
└─────────────────────────────┘</div>

            <div class="code-block">[Docker 컨테이너]

[컨테이너1]     [컨테이너2]
┌──────────┐    ┌──────────┐
│ 앱 A     │    │ 앱 B     │ ← 앱만!
└──────────┘    └──────────┘
       ↓              ↓
┌─────────────────────────────┐
│     호스트 운영체제          │ ← 공유!
└─────────────────────────────┘</div>

            <div class="chat">
                <div class="q">뭐가 다른 거야?</div>
                <div class="a">
                    <p>가상머신 = <span class="highlight">운영체제 단위</span> 가상화</p>
                    <p>컨테이너 = <span class="highlight">프로세스 단위</span> 격리</p>
                </div>
            </div>

            <table class="compare-table">
                <tr>
                    <th></th>
                    <th>가상머신</th>
                    <th>컨테이너 (Docker)</th>
                </tr>
                <tr>
                    <td>단위</td>
                    <td>OS 전체</td>
                    <td>프로세스</td>
                </tr>
                <tr>
                    <td>무게</td>
                    <td class="bad">무거움 (GB 단위)</td>
                    <td class="good">가벼움 (MB 단위)</td>
                </tr>
                <tr>
                    <td>시작 속도</td>
                    <td class="bad">몇 분</td>
                    <td class="good">1초</td>
                </tr>
                <tr>
                    <td>격리</td>
                    <td class="good">완벽</td>
                    <td>부분적</td>
                </tr>
                <tr>
                    <td>다른 OS</td>
                    <td class="good">가능</td>
                    <td class="bad">불가능</td>
                </tr>
            </table>

            <div class="code-block">[비유]

가상머신 = 집을 통째로 빌림
         주방, 화장실, 침실 다 따로 있음
         비싸고 무거움

컨테이너 = 원룸 셰어하우스
         주방, 화장실 공유
         싸고 가벼움</div>
        </div>

        <!-- 핵심 정리 -->
        <div class="summary-box">
            <h3>핵심 정리</h3>
            <ul>
                <li><strong>머신</strong> = 하드웨어 (CPU, RAM, 디스크)</li>
                <li><strong>가상머신</strong> = 소프트웨어로 만든 가짜 하드웨어</li>
                <li><strong>하이퍼바이저</strong> = 가상머신들을 관리하는 감독자</li>
                <li><strong>Type 1</strong> = 하드웨어 바로 위 (서버용, 빠름)</li>
                <li><strong>Type 2</strong> = 운영체제 위 (개인용, 편함)</li>
                <li><strong>일반 명령어</strong> → 진짜 CPU에서 바로 실행 (빠름)</li>
                <li><strong>특권 명령어</strong> → 하이퍼바이저가 가로채서 변환</li>
                <li><strong>가상화 패턴</strong> = 가상메모리랑 같은 원리!</li>
                <li><strong>컨테이너</strong> = OS 공유, 프로세스 단위, 가벼움</li>
                <li><strong>가상머신</strong> = OS 포함, 완벽 격리, 무거움</li>
            </ul>
        </div>

        <div class="nav-links">
            <a href="../category-cs/">← CS 기초</a>
            <a href="../../">메인으로 →</a>
        </div>
    </div>
</body>
</html>
