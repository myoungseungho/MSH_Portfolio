<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript 코드 실행 방식 - MSH Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.8;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        .nav {
            margin-bottom: 40px;
        }

        .nav a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .nav a:hover {
            color: #333;
        }

        .header {
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: #111;
        }

        .header-meta {
            display: flex;
            gap: 20px;
            color: #666;
            font-size: 0.9rem;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #111;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        .section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 30px 0 15px 0;
            color: #333;
        }

        .section p {
            margin-bottom: 16px;
            color: #444;
        }

        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .comment { color: #6a9955; }
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .function { color: #dcdcaa; }
        .number { color: #b5cea8; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        th, td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: #f8f8f8;
            font-weight: 600;
            color: #333;
        }

        tr:last-child td {
            border-bottom: none;
        }

        .insight-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .insight-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .insight-box.blue {
            background: #e3f2fd;
            border-left-color: #2196f3;
        }

        .insight-box.blue h4 {
            color: #1565c0;
        }

        .insight-box.green {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }

        .insight-box.green h4 {
            color: #2e7d32;
        }

        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        li {
            margin-bottom: 8px;
        }

        .diagram {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 24px;
            margin: 20px 0;
            font-family: 'Consolas', monospace;
            white-space: pre;
            overflow-x: auto;
            line-height: 1.4;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 20px 0;
        }

        .tag {
            background: #e8f4fd;
            color: #1976d2;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .footer {
            text-align: center;
            padding: 40px 0;
            color: #999;
            font-size: 0.9rem;
            border-top: 1px solid #e0e0e0;
            margin-top: 60px;
        }

        .compare-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 600px) {
            .compare-grid {
                grid-template-columns: 1fr;
            }
        }

        .compare-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            border: 1px solid #eee;
        }

        .compare-card h4 {
            font-size: 1.1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .compare-card.cpp {
            border-top: 3px solid #00599C;
        }

        .compare-card.js {
            border-top: 3px solid #f7df1e;
        }

        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .summary-box h3 {
            color: white;
            margin-top: 0;
            font-size: 1.3rem;
        }

        .summary-box p {
            color: rgba(255,255,255,0.9);
            margin-bottom: 12px;
        }

        .summary-box code {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .step-indicator {
            display: inline-block;
            background: #2196f3;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-size: 0.8rem;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="nav">
            <a href="../../">&larr; 돌아가기</a>
        </nav>

        <header class="header">
            <h1>JavaScript 코드 실행 방식</h1>
            <div class="header-meta">
                <span>C++ 개발자를 위한 비교 설명</span>
                <span>2025.01</span>
            </div>
            <div class="tags">
                <span class="tag">JavaScript</span>
                <span class="tag">Node.js</span>
                <span class="tag">Entry Point</span>
                <span class="tag">require</span>
            </div>
        </header>

        <!-- 개요 -->
        <section class="section">
            <h2>개요</h2>
            <p>
                C++과 JavaScript는 코드 실행 방식이 근본적으로 다릅니다.
                시작점(Entry Point) 결정 방식, 코드 실행 순서, 파일 불러오기 방식의 차이를 정리했습니다.
            </p>
        </section>

        <!-- 시작점의 차이 -->
        <section class="section">
            <h2>1. 시작점(Entry Point)의 차이</h2>

            <div class="compare-grid">
                <div class="compare-card cpp">
                    <h4>C++</h4>
                    <p><strong>무조건 main()이 시작점</strong></p>
                    <p>언어가 강제함. main() 없으면 컴파일 에러.</p>
<pre><code><span class="keyword">int</span> <span class="function">main</span>() {
    <span class="comment">// 무조건 여기서 시작</span>
    <span class="keyword">return</span> <span class="number">0</span>;
}</code></pre>
                </div>
                <div class="compare-card js">
                    <h4>JavaScript/Node.js</h4>
                    <p><strong>실행한 파일이 시작점</strong></p>
                    <p>개발자가 선택. 아무 파일이나 시작점이 될 수 있음.</p>
<pre><code><span class="comment">// 터미널에서</span>
node www      <span class="comment">// www가 시작점</span>
node main.js  <span class="comment">// main.js가 시작점</span>
node app.js   <span class="comment">// app.js가 시작점</span></code></pre>
                </div>
            </div>

            <h3>그러면 시작점을 어떻게 알 수 있나?</h3>
            <p>프로젝트의 <code>package.json</code> 파일에 개발자가 적어놓음:</p>
<pre><code>{
  <span class="string">"scripts"</span>: {
    <span class="string">"start"</span>: <span class="string">"node ./bin/www"</span>  <span class="comment">// ← 이 프로젝트는 www로 시작</span>
  }
}</code></pre>

            <div class="insight-box">
                <h4>C++ 개발자를 위한 비유</h4>
                <p>
                    C++에서는 <code>main()</code>이 법으로 정해진 규칙이라면,<br>
                    JavaScript에서는 <code>package.json</code>이 팀 매뉴얼에 적힌 약속입니다.
                </p>
            </div>
        </section>

        <!-- 코드 실행 순서 -->
        <section class="section">
            <h2>2. 코드 실행 순서의 차이</h2>

            <div class="compare-grid">
                <div class="compare-card cpp">
                    <h4>C++</h4>
<pre><code><span class="keyword">void</span> <span class="function">foo</span>() {       <span class="comment">// 선언만</span>
    cout &lt;&lt; <span class="string">"foo"</span>;
}

<span class="keyword">void</span> <span class="function">bar</span>() {       <span class="comment">// 선언만</span>
    cout &lt;&lt; <span class="string">"bar"</span>;
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="function">foo</span>();         <span class="comment">// 호출해야 실행</span>
}
<span class="comment">// bar()는 영원히 실행 안 됨</span></code></pre>
                </div>
                <div class="compare-card js">
                    <h4>JavaScript</h4>
<pre><code><span class="keyword">const</span> x = <span class="number">10</span>;        <span class="comment">// 1. 실행됨</span>
console.<span class="function">log</span>(<span class="string">"시작!"</span>); <span class="comment">// 2. 실행됨!</span>

<span class="keyword">function</span> <span class="function">foo</span>() {     <span class="comment">// 3. 선언만</span>
    console.<span class="function">log</span>(<span class="string">"foo"</span>);
}

<span class="function">foo</span>();               <span class="comment">// 4. 실행됨</span>
<span class="comment">// main() 없이 코드가 실행됨!</span></code></pre>
                </div>
            </div>

            <div class="insight-box blue">
                <h4>핵심 차이</h4>
                <ul>
                    <li><strong>C++</strong>: 함수 밖 코드는 거의 없음. 모든 로직이 함수 안에 있고, <code>main()</code>이 호출해야 실행</li>
                    <li><strong>JavaScript</strong>: 함수 밖 코드가 <strong>파일 로드 시 바로 실행됨</strong></li>
                </ul>
            </div>

            <h3>JavaScript 파일의 실행 순서</h3>
            <p>파일을 실행하면 <strong>위에서 아래로 한 줄씩</strong> 실행됩니다:</p>
<pre><code><span class="keyword">const</span> CONFIG = <span class="function">require</span>(<span class="string">'./config'</span>);  <span class="comment">// 1. config.js 실행 후 결과 가져옴</span>
<span class="keyword">const</span> app = <span class="function">require</span>(<span class="string">'./app'</span>);        <span class="comment">// 2. app.js 실행 후 결과 가져옴</span>

<span class="keyword">function</span> <span class="function">startServer</span>() {            <span class="comment">// 3. 함수 선언 (실행 안 됨)</span>
    console.<span class="function">log</span>(<span class="string">"서버 시작"</span>);
}

<span class="keyword">const</span> port = <span class="number">3000</span>;                   <span class="comment">// 4. 변수 할당 (실행됨)</span>
<span class="function">startServer</span>();                       <span class="comment">// 5. 함수 호출 (실행됨)</span></code></pre>
        </section>

        <!-- require의 동작 -->
        <section class="section">
            <h2>3. 파일 불러오기: #include vs require</h2>

            <div class="compare-grid">
                <div class="compare-card cpp">
                    <h4>C++ #include</h4>
                    <p><strong>컴파일 타임</strong>에 코드를 복사 붙여넣기</p>
<pre><code><span class="keyword">#include</span> <span class="string">"header.h"</span>
<span class="comment">// header.h 내용이 여기에 복사됨</span>
<span class="comment">// 실행되는 게 아님!</span></code></pre>
                </div>
                <div class="compare-card js">
                    <h4>JavaScript require</h4>
                    <p><strong>실행 시간</strong>에 해당 파일을 실행하고 결과를 가져옴</p>
<pre><code><span class="keyword">const</span> app = <span class="function">require</span>(<span class="string">'./app'</span>);
<span class="comment">// app.js를 실행하고</span>
<span class="comment">// exports된 것을 가져옴</span></code></pre>
                </div>
            </div>

            <h3>require의 동작 과정</h3>
            <div class="diagram"><span class="step-indicator">1</span> require('./app') 만남
     │
     ▼
<span class="step-indicator">2</span> app.js 파일로 점프
     │
     ▼
<span class="step-indicator">3</span> app.js를 위에서 아래로 실행
     │
     ▼
<span class="step-indicator">4</span> module.exports로 내보낸 것을 가져옴
     │
     ▼
<span class="step-indicator">5</span> 원래 파일로 돌아와서 계속 진행</div>

            <h3>예시: app.js</h3>
<pre><code><span class="comment">// app.js</span>
<span class="keyword">const</span> express = <span class="function">require</span>(<span class="string">'express'</span>);  <span class="comment">// 실행됨</span>
<span class="keyword">const</span> app = <span class="function">express</span>();              <span class="comment">// 실행됨</span>

app.<span class="function">use</span>(<span class="string">'/'</span>, indexRouter);          <span class="comment">// 실행됨</span>

module.exports = app;               <span class="comment">// 이걸 require한 쪽에 반환</span></code></pre>
        </section>

        <!-- 실제 예시 -->
        <section class="section">
            <h2>4. 실제 예시: Node.js 프로젝트 실행 흐름</h2>

            <p><code>node ./bin/www</code> 실행 시:</p>

            <div class="diagram">node ./bin/www 실행
     │
     ▼
www 파일 (위에서 아래로 실행)
     │
     ├─▶ const SSL = require('../ConfigData')...
     │       └─▶ ConfigData.js 실행 → 결과 반환
     │
     ├─▶ var app = require('../app')
     │       └─▶ app.js 실행
     │              ├─▶ const express = require('express')
     │              ├─▶ const app = express()
     │              ├─▶ app.use(...)
     │              └─▶ module.exports = app → www로 반환
     │
     ├─▶ var server = http.createServer(app)
     │
     ├─▶ server.listen(port)  ← 서버 시작!
     │
     └─▶ const MAIN = require('../main')
             └─▶ main.js 실행 → 결과 반환</div>
        </section>

        <!-- 정리 표 -->
        <section class="section">
            <h2>5. 정리</h2>

            <table>
                <tr>
                    <th>구분</th>
                    <th>C++</th>
                    <th>JavaScript/Node.js</th>
                </tr>
                <tr>
                    <td>시작점</td>
                    <td><code>main()</code> 고정 (언어가 강제)</td>
                    <td>실행한 파일이 시작점 (개발자가 선택)</td>
                </tr>
                <tr>
                    <td>시작점 확인</td>
                    <td><code>main()</code> 함수 찾기</td>
                    <td><code>package.json</code>의 scripts.start 확인</td>
                </tr>
                <tr>
                    <td>함수 밖 코드</td>
                    <td>거의 없음 (전역변수 정도)</td>
                    <td>파일 로드 시 바로 실행됨</td>
                </tr>
                <tr>
                    <td>파일 불러오기</td>
                    <td><code>#include</code> (컴파일 타임 복사)</td>
                    <td><code>require</code> (실행 시간에 실행)</td>
                </tr>
                <tr>
                    <td>실행 흐름</td>
                    <td><code>main()</code> → 호출한 함수들</td>
                    <td>시작 파일 → require로 연결된 파일들</td>
                </tr>
            </table>

            <div class="summary-box">
                <h3>JavaScript 프로젝트 읽는 법</h3>
                <p><strong>1단계:</strong> <code>package.json</code>의 <code>scripts.start</code>에서 시작 파일 확인</p>
                <p><strong>2단계:</strong> 그 파일을 위에서 아래로 읽으면서 <code>require</code> 따라가기</p>
                <p><strong>3단계:</strong> 함수 밖 코드는 "바로 실행된다"는 점 기억하기</p>
            </div>
        </section>

        <footer class="footer">
            <p>MSH Portfolio - Game Server Developer</p>
        </footer>
    </div>
</body>
</html>
