<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anti-Aliasing (안티에일리어싱) - MSH Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.8;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        .nav {
            margin-bottom: 40px;
        }

        .nav a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            margin-right: 12px;
        }

        .nav a:hover {
            color: #333;
        }

        .header {
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: #111;
        }

        .header-meta {
            display: flex;
            gap: 20px;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .header-meta span {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background: #9C27B0;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #111;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        .section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 30px 0 15px 0;
            color: #333;
        }

        .section p {
            margin-bottom: 16px;
            color: #444;
        }

        .section ul, .section ol {
            margin-left: 20px;
            margin-bottom: 16px;
        }

        .section li {
            margin-bottom: 8px;
            color: #444;
        }

        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: #7B1FA2;
        }

        pre code {
            background: none;
            padding: 0;
            color: #d4d4d4;
        }

        .img-container {
            margin: 30px 0;
            text-align: center;
        }

        .img-container img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .img-caption {
            margin-top: 12px;
            font-size: 0.85rem;
            color: #666;
        }

        .highlight-box {
            background: #f3e5f5;
            border-left: 4px solid #9C27B0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .highlight-box h4 {
            color: #7B1FA2;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .formula-box {
            background: white;
            border: 2px solid #9C27B0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .formula {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.2rem;
            color: #7B1FA2;
            margin: 10px 0;
        }

        .qa-flow {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .qa-flow .q {
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid #FF9800;
        }

        .qa-flow .a {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 3px solid #4CAF50;
        }

        .qa-flow .q::before {
            content: "Q. ";
            font-weight: bold;
            color: #e65100;
        }

        .qa-flow .a::before {
            content: "A. ";
            font-weight: bold;
            color: #2e7d32;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .comparison-item {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .comparison-item img {
            width: 100%;
            height: auto;
        }

        .comparison-item .label {
            padding: 12px;
            text-align: center;
            font-weight: 600;
            background: #f5f5f5;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .param-table th,
        .param-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        .param-table th {
            background: #9C27B0;
            color: white;
            font-weight: 600;
        }

        .param-table tr:last-child td {
            border-bottom: none;
        }

        .footer-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }

        .footer-nav a {
            color: #9C27B0;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .footer-nav a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="nav">
            <a href="../../">&larr; 메인</a>
            <a href="../category-gpu/">&larr; GPU / 그래픽스</a>
        </nav>

        <header class="header">
            <h1>Anti-Aliasing (안티에일리어싱)</h1>
            <div class="header-meta">
                <span>작성일: 2025-01-14</span>
                <span>구현 완료</span>
                <span>난이도: ★★☆</span>
            </div>
            <div class="tags">
                <span class="tag">DirectX 11</span>
                <span class="tag">MSAA</span>
                <span class="tag">FXAA</span>
                <span class="tag">Post-Processing</span>
                <span class="tag">Rendering Quality</span>
            </div>
        </header>

        <!-- 비교 이미지 -->
        <section class="section">
            <h2>결과 비교</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <img src="../../Screenshots/안티에일리어싱/step1.png" alt="No AA">
                    <div class="label">Step 1: No AA (계단 현상)</div>
                </div>
                <div class="comparison-item">
                    <img src="../../Screenshots/안티에일리어싱/step2.png" alt="MSAA 4x">
                    <div class="label">Step 2: MSAA 4x</div>
                </div>
                <div class="comparison-item">
                    <img src="../../Screenshots/안티에일리어싱/step3.png" alt="FXAA">
                    <div class="label">Step 3: FXAA</div>
                </div>
            </div>
            <p class="img-caption">대각선 엣지를 집중해서 보면 차이가 보입니다 - No AA는 계단 현상이 심하고, MSAA/FXAA는 부드럽습니다.</p>
        </section>

        <!-- 개요: 질문으로 시작 -->
        <section class="section">
            <h2>왜 대각선이 계단처럼 보일까?</h2>

            <div class="qa-flow">
                <div class="q">게임에서 대각선 엣지가 울퉁불퉁 끊겨 보이는 걸 본 적 있나요?</div>
                <div class="a">네, 가까이서 보면 계단처럼 끊겨 보여요!</div>
            </div>

            <div class="qa-flow">
                <div class="q">왜 대각선은 계단처럼 보일까요? 모니터 화면은 뭘로 이루어져 있죠?</div>
                <div class="a">픽셀로 이루어져 있어요. 정사각형 픽셀들!</div>
            </div>

            <div class="qa-flow">
                <div class="q">정사각형 픽셀로 완벽한 대각선을 표현할 수 있을까요?</div>
                <div class="a">불가능하죠. 정사각형으로는 기울어진 선을 정확히 표현할 수 없어서 끊겨 보여요!</div>
            </div>

            <div class="highlight-box">
                <h4>Aliasing (에일리어싱)</h4>
                <p>정사각형 픽셀로 대각선이나 곡선을 표현할 때 생기는 <strong>계단 현상</strong>을 말해요.</p>
                <p>Anti-Aliasing은 이 계단 현상을 줄이는 기술이에요!</p>
            </div>
        </section>

        <!-- AA 원리 -->
        <section class="section">
            <h2>원리: 어떻게 부드럽게 만들까?</h2>

            <div class="qa-flow">
                <div class="q">픽셀 자체는 정사각형인데, 어떻게 대각선을 부드럽게 보이게 할 수 있을까요?</div>
                <div class="a">경계 부분을 살짝 흐릿하게 만들면 될 것 같아요!</div>
            </div>

            <p>맞아요! 핵심은 <strong>"경계 픽셀의 색을 중간 톤으로"</strong> 만드는 거예요.</p>

            <div class="highlight-box">
                <h4>AA의 기본 원리</h4>
                <p>흰색 배경에 검은색 대각선이 있다면:</p>
                <ul>
                    <li><strong>AA 없이</strong>: 경계가 검은색 or 흰색 → 계단 보임</li>
                    <li><strong>AA 적용</strong>: 경계가 회색(중간색) → 부드러워 보임</li>
                </ul>
            </div>
        </section>

        <!-- SSAA -->
        <section class="section">
            <h2>SSAA: 가장 확실한 방법</h2>

            <div class="qa-flow">
                <div class="q">1920x1080 모니터에서 3840x2160으로 그린 다음 줄이면 어떻게 될까요?</div>
                <div class="a">4픽셀이 1픽셀로 합쳐지면서... 자연스럽게 중간색이 만들어지겠네요!</div>
            </div>

            <p><strong>SSAA (Super Sampling Anti-Aliasing)</strong>는 이 방식이에요.</p>

            <div class="formula-box">
                <p><strong>SSAA 원리</strong></p>
                <div class="formula">더 큰 해상도로 렌더링 → 축소 (Downsampling)</div>
            </div>

            <ul>
                <li><strong>장점</strong>: 가장 깨끗한 품질</li>
                <li><strong>단점</strong>: 4배 해상도 = 4배 느림 (실시간 게임에서 거의 안 씀)</li>
            </ul>
        </section>

        <!-- MSAA -->
        <section class="section">
            <h2>MSAA: 하드웨어 가속</h2>

            <div class="qa-flow">
                <div class="q">SSAA처럼 전체를 다 크게 그리면 너무 느려요. 어떻게 하면 효율적으로 AA를 적용할 수 있을까요?</div>
                <div class="a">계단이 보이는 "엣지 부분"에만 적용하면 되지 않을까요?</div>
            </div>

            <p><strong>MSAA (Multi-Sample Anti-Aliasing)</strong>가 바로 그거예요!</p>

            <div class="highlight-box">
                <h4>MSAA의 원리</h4>
                <ul>
                    <li>각 픽셀 안에서 <strong>여러 위치를 샘플링</strong></li>
                    <li>하지만 픽셀 쉐이더는 <strong>한 번만</strong> 실행</li>
                    <li>GPU 하드웨어가 자동으로 처리 → 빠름!</li>
                </ul>
            </div>

            <pre><code>// DirectX 11에서 MSAA 렌더 타겟 생성
D3D11_TEXTURE2D_DESC desc = {};
desc.SampleDesc.Count = 4;   // 4x MSAA
desc.SampleDesc.Quality = 0;
// ...

// Resolve로 일반 텍스처로 변환
context->ResolveSubresource(destTexture, 0, msaaTexture, 0, format);</code></pre>

            <ul>
                <li><strong>MSAA 4x</strong>: 픽셀당 4개 샘플</li>
                <li><strong>MSAA 8x</strong>: 픽셀당 8개 샘플 (더 부드럽지만 더 느림)</li>
            </ul>
        </section>

        <!-- FXAA -->
        <section class="section">
            <h2>FXAA: 포스트 프로세싱 AA</h2>

            <div class="qa-flow">
                <div class="q">이미 렌더링이 끝난 화면에서 AA를 적용할 수는 없을까요?</div>
                <div class="a">포스트 프로세싱으로 엣지를 찾아서 블러 처리하면 될 것 같아요!</div>
            </div>

            <p><strong>FXAA (Fast Approximate Anti-Aliasing)</strong>가 바로 그 방식이에요.</p>

            <div class="highlight-box">
                <h4>FXAA의 원리</h4>
                <ol>
                    <li>렌더링 완료된 화면을 분석</li>
                    <li><strong>밝기 차이</strong>로 엣지 검출 (Luminance)</li>
                    <li>엣지 방향을 따라 <strong>블러</strong> 적용</li>
                </ol>
            </div>

            <pre><code>// FXAA 픽셀 쉐이더 (간략화)
float4 main(PS_INPUT input) : SV_TARGET {
    // 주변 픽셀의 밝기(Luminance) 가져오기
    float lumaNW = dot(tex.Sample(samp, uv + float2(-1,-1) * texelSize).rgb, luma);
    float lumaNE = dot(tex.Sample(samp, uv + float2( 1,-1) * texelSize).rgb, luma);
    float lumaSW = dot(tex.Sample(samp, uv + float2(-1, 1) * texelSize).rgb, luma);
    float lumaSE = dot(tex.Sample(samp, uv + float2( 1, 1) * texelSize).rgb, luma);

    // 밝기 차이로 엣지 방향 계산
    float2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    // 엣지 방향을 따라 블렌딩
    return blendAlongEdge(dir);
}</code></pre>

            <ul>
                <li><strong>장점</strong>: 매우 빠름, 어떤 렌더링에도 적용 가능</li>
                <li><strong>단점</strong>: 텍스트나 작은 디테일이 흐려질 수 있음</li>
            </ul>
        </section>

        <!-- 비교표 -->
        <section class="section">
            <h2>AA 기법 비교</h2>

            <table class="param-table">
                <thead>
                    <tr>
                        <th>기법</th>
                        <th>방식</th>
                        <th>속도</th>
                        <th>품질</th>
                        <th>특징</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>SSAA</strong></td>
                        <td>고해상도 렌더링</td>
                        <td>매우 느림</td>
                        <td>최상</td>
                        <td>오프라인 렌더링용</td>
                    </tr>
                    <tr>
                        <td><strong>MSAA</strong></td>
                        <td>멀티샘플링</td>
                        <td>빠름</td>
                        <td>좋음</td>
                        <td>GPU 하드웨어 지원</td>
                    </tr>
                    <tr>
                        <td><strong>FXAA</strong></td>
                        <td>포스트 프로세싱</td>
                        <td>매우 빠름</td>
                        <td>보통</td>
                        <td>디테일 흐려짐 가능</td>
                    </tr>
                    <tr>
                        <td><strong>TAA</strong></td>
                        <td>템포럴 (시간축)</td>
                        <td>빠름</td>
                        <td>좋음</td>
                        <td>현대 게임 표준, 고스팅 가능</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- 핵심 정리 -->
        <section class="section">
            <h2>핵심 정리</h2>

            <div class="highlight-box">
                <h4>Anti-Aliasing 핵심</h4>
                <ul>
                    <li><strong>에일리어싱</strong>: 정사각형 픽셀로 대각선을 그릴 때 생기는 계단 현상</li>
                    <li><strong>해결 원리</strong>: 경계 픽셀을 중간색으로 만들어 부드럽게</li>
                    <li><strong>MSAA</strong>: 렌더링하면서 하드웨어가 멀티샘플링</li>
                    <li><strong>FXAA</strong>: 렌더링 후 밝기 차이로 엣지 검출 → 블러</li>
                </ul>
            </div>

            <h3>현대 게임에서의 AA</h3>
            <ul>
                <li><strong>TAA (Temporal AA)</strong>: 여러 프레임을 합성 - 현재 대세</li>
                <li><strong>DLSS / FSR</strong>: AI 기반 업스케일링 + AA 효과</li>
                <li>대부분의 AAA 게임: TAA + FXAA 조합 또는 DLSS/FSR 사용</li>
            </ul>
        </section>

        <footer class="footer-nav">
            <a href="../category-gpu/">&larr; GPU / 그래픽스</a>
            <a href="../../">메인으로 &rarr;</a>
        </footer>
    </div>
</body>
</html>
