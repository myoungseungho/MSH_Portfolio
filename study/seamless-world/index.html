<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>심리스 월드 (Seamless World) - MSH Portfolio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
        .back-link {
            display: inline-block;
            margin-bottom: 24px;
            color: #666;
            text-decoration: none;
        }
        .back-link:hover { color: #111; }
        .header { margin-bottom: 48px; }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }

        /* 대화 스타일 */
        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #1a237e;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e8eaf6;
        }

        .chat {
            margin-bottom: 20px;
        }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before {
            content: "Q. ";
            color: #e65100;
            font-weight: 700;
        }
        .a {
            padding: 8px 0 8px 20px;
            border-left: 4px solid #e0e0e0;
            margin: 12px 0;
        }
        .a p {
            margin-bottom: 12px;
        }
        .a p:last-child {
            margin-bottom: 0;
        }

        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #c8e6c9;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #2e7d32;
        }

        /* GIF 섹션 */
        .visual-section {
            background: #f5f5f5;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .visual-section h4 {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 12px;
        }
        .step-gif {
            width: 100%;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        .gif-caption {
            font-size: 0.85rem;
            color: #666;
            margin-top: 8px;
            text-align: center;
        }

        /* 핵심 정리 박스 */
        .summary-box {
            background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .summary-box ul {
            list-style: none;
        }
        .summary-box li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
        }
        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #90caf9;
        }

        .flow-box {
            background: #263238;
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            line-height: 2;
            color: #eceff1;
            overflow-x: auto;
        }
        .flow-box .step-num {
            color: #4fc3f7;
            font-weight: bold;
        }
        .flow-box .action {
            color: #81c784;
        }
        .flow-box .result {
            color: #ffcc80;
        }

        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a {
            color: #1a237e;
            text-decoration: none;
        }
        .nav-links a:hover { text-decoration: underline; }

        .divider {
            height: 1px;
            background: #e0e0e0;
            margin: 32px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../category-cs/" class="back-link">&larr; CS 기초 목록</a>

        <header class="header">
            <h1>심리스 월드 (Seamless World)</h1>
            <p>존(Zone) 기반 심리스 월드의 원리를 Q&A로 이해하기</p>
        </header>

        <!-- Part 1: 로딩이 왜 생기나 -->
        <div class="conversation">
            <h2>Part 1. 로딩은 왜 생기는 걸까?</h2>

            <div class="chat">
                <div class="q">MMO에서 다른 지역으로 넘어갈 때 로딩이 왜 생기는 거야?</div>
                <div class="a">
                    <p>월드가 너무 넓으면 하나의 서버가 전부 처리하기 힘들어요.</p>
                    <p>그래서 월드를 <span class="highlight">존(Zone)</span>으로 나누고, 각 존을 담당하는 서버를 따로 둡니다.</p>
                    <p>Zone A → Zone B로 이동할 때, <span class="key-point">Zone A 연결 끊고 → Zone B에 새로 연결</span>해야 해요.</p>
                    <p>이 과정에서 데이터 로딩이 발생하고, 그게 "로딩 화면"으로 보이는 겁니다.</p>
                </div>
            </div>

            <div class="visual-section">
                <h4>시뮬레이션: 로딩이 있는 존 이동</h4>
                <img src="./images/step1.gif" alt="Step 1: Loading" class="step-gif">
                <p class="gif-caption">경계를 넘을 때 유저가 깜빡임 = 끊김 + 로딩 발생</p>
            </div>

            <div class="chat">
                <div class="q">그럼 로딩 없이 넘어가려면 어떻게 해야 해?</div>
                <div class="a">
                    <p>핵심은 <span class="key-point">"끊기 전에 미리 연결해두기"</span>입니다.</p>
                    <p>Zone A를 끊기 전에 Zone B에 이미 연결되어 있으면, 끊김이 없겠죠?</p>
                </div>
            </div>
        </div>

        <!-- Part 2: 오버랩 존 -->
        <div class="conversation">
            <h2>Part 2. 오버랩 존 (Overlap Zone)</h2>

            <div class="chat">
                <div class="q">어떻게 미리 연결해둬?</div>
                <div class="a">
                    <p>존과 존 사이 경계에 <span class="highlight">오버랩 존</span>을 만듭니다.</p>
                    <p>오버랩 존에 들어가면 <span class="key-point">양쪽 서버에 동시 연결</span>됩니다.</p>
                    <p>Zone A도 연결, Zone B도 연결 → 그 상태에서 Zone A 끊으면? 끊김 없음!</p>
                </div>
            </div>

            <div class="visual-section">
                <h4>시뮬레이션: 오버랩 존에서 양쪽 연결</h4>
                <img src="./images/step2.gif" alt="Step 2: Overlap Zone" class="step-gif">
                <p class="gif-caption">보라색 오버랩 존에서 파란선(Zone A) + 초록선(Zone B) 둘 다 연결됨</p>
            </div>

            <div class="divider"></div>

            <div class="chat">
                <div class="q">잠깐, 오버랩 존도 별도의 서버야? 프로세스가 따로 있어?</div>
                <div class="a">
                    <p><strong>아니요!</strong> 이게 중요한 포인트에요.</p>
                    <p>오버랩 존은 별도의 서버가 아닙니다. 그냥 <span class="key-point">"좌표 범위"</span>일 뿐이에요.</p>
                    <p>예를 들어:</p>
                    <p>• Zone A 서버: x좌표 0~550 관리</p>
                    <p>• Zone B 서버: x좌표 450~1000 관리</p>
                    <p>• 오버랩 존: x좌표 450~550 (둘 다 관리하는 구간)</p>
                    <p>오버랩 존은 <span class="highlight">두 서버가 겹쳐서 관리하는 좌표 범위</span>입니다. 별도 서버 X!</p>
                </div>
            </div>
        </div>

        <!-- Part 3: 핸드오프 -->
        <div class="conversation">
            <h2>Part 3. Zone B는 어떻게 알지? (핸드오프)</h2>

            <div class="chat">
                <div class="q">Zone A에 있던 유저가 오버랩으로 가면, Zone B는 어떻게 알아?<br>Zone B가 Zone A를 실시간으로 감시하고 있어?</div>
                <div class="a">
                    <p>아니요, 실시간 감시가 아닙니다.</p>
                    <p><span class="highlight">Zone A가 Zone B에게 알려줍니다.</span> 이걸 <span class="key-point">핸드오프(Handoff)</span>라고 해요.</p>
                    <p>유저가 오버랩 존에 진입하면:</p>
                    <p>Zone A → Zone B: <em>"이 유저 오버랩으로 들어왔어. HP 500, 위치 (450, 200), 인벤토리 정보..."</em></p>
                    <p>Zone B가 실시간 추적하는 게 아니라, <span class="key-point">Zone A가 미리 통보</span>하는 겁니다.</p>
                </div>
            </div>

            <div class="visual-section">
                <h4>시뮬레이션: 핸드오프 (데이터 전송)</h4>
                <img src="./images/step4.gif" alt="Step 4: Handoff" class="step-gif">
                <p class="gif-caption">노란 점 = 서버 간 전송되는 유저 데이터 패킷</p>
            </div>
        </div>

        <!-- Part 4: Authority -->
        <div class="conversation">
            <h2>Part 4. 누가 연산을 담당하지? (Authority)</h2>

            <div class="chat">
                <div class="q">오버랩 존에서 양쪽 서버 다 연결되어 있잖아.<br>그러면 유저가 몬스터를 때렸을 때, 누가 데미지 계산해?</div>
                <div class="a">
                    <p>좋은 질문이에요. 둘 다 계산하면 문제가 생깁니다.</p>
                    <p>• Zone A: "100 데미지!"</p>
                    <p>• Zone B: "95 데미지!"</p>
                    <p>→ 충돌. 뭐가 맞는 건데?</p>
                </div>
            </div>

            <div class="chat">
                <div class="q">그럼 어떻게 해결해?</div>
                <div class="a">
                    <p><span class="highlight">Authority(권한)</span> 개념을 씁니다.</p>
                    <p>오버랩 존에 있어도, <span class="key-point">한 쪽 서버만 실제 연산</span>을 담당합니다.</p>
                    <p>기준: <strong>가까운 쪽이 Authority</strong></p>
                    <p>• 유저가 Zone A 쪽에 가까우면 → Zone A가 연산</p>
                    <p>• 유저가 Zone B 쪽에 가까우면 → Zone B가 연산</p>
                    <p>반대쪽 서버는 데이터만 동기화받고, 직접 연산하지 않습니다.</p>
                </div>
            </div>

            <div class="visual-section">
                <h4>시뮬레이션: Authority 시각화</h4>
                <img src="./images/step3.gif" alt="Step 3: Authority" class="step-gif">
                <p class="gif-caption">파란 유저 = Zone A가 연산 담당 / 초록 유저 = Zone B가 연산 담당<br>같은 오버랩 존이어도 Authority가 다름!</p>
            </div>
        </div>

        <!-- Part 5: 월드 매니저 -->
        <div class="conversation">
            <h2>Part 5. 경계는 고정이야? (월드 매니저)</h2>

            <div class="chat">
                <div class="q">오버랩 존에 사람이 엄청 몰리면 어떻게 해?<br>경계가 항상 고정되어 있어야 해?</div>
                <div class="a">
                    <p>고정일 필요 없어요. <span class="key-point">경계를 움직이면</span> 됩니다.</p>
                    <p>Zone A에 사람이 너무 많으면? 경계를 왼쪽으로 이동 → Zone A 영역 줄이고 Zone B가 더 담당</p>
                </div>
            </div>

            <div class="chat">
                <div class="q">누가 그걸 결정해? Zone A? Zone B?</div>
                <div class="a">
                    <p>둘 다 아닙니다. <span class="highlight">월드 매니저(World Manager)</span>가 결정합니다.</p>
                    <p>월드 매니저는 Zone 서버들 <span class="key-point">위에 있는 상위 관리자</span>예요.</p>
                    <p>• Zone A 서버: 자기 구역만 봄</p>
                    <p>• Zone B 서버: 자기 구역만 봄</p>
                    <p>• 월드 매니저: <strong>전체를 봄</strong> → 부하 모니터링 → 경계 조절 지시</p>
                </div>
            </div>

            <div class="visual-section">
                <h4>시뮬레이션: 동적 경계 조절</h4>
                <img src="./images/step5.gif" alt="Step 5: Dynamic Boundary" class="step-gif">
                <p class="gif-caption">흰색 경계선이 좌우로 움직임 = 월드 매니저가 부하에 따라 조절</p>
            </div>
        </div>

        <!-- 전체 흐름 정리 -->
        <div class="summary-box">
            <h3>전체 흐름 정리</h3>
            <div class="flow-box">
<span class="step-num">1.</span> 유저가 Zone A에서 오버랩 존으로 이동

<span class="step-num">2.</span> <span class="action">핸드오프 발생</span> - Zone A가 Zone B에게 유저 정보 전달

<span class="step-num">3.</span> 오버랩 존에서 <span class="action">양쪽 서버에 동시 연결</span>
   └ Authority(연산 담당)는 가까운 쪽 서버

<span class="step-num">4.</span> 유저가 Zone B 영역으로 완전히 이동

<span class="step-num">5.</span> <span class="action">Zone A 연결 해제</span>
   └ 이미 Zone B에 연결되어 있으니 <span class="result">끊김 없음!</span>

<span class="result">결과: 로딩 없이 자연스럽게 Zone 이동 완료</span>
            </div>

            <ul>
                <li><strong>오버랩 존</strong> = 별도 서버가 아니라 "좌표 범위"</li>
                <li><strong>핸드오프</strong> = Zone A가 Zone B에게 알려주는 것 (실시간 감시 X)</li>
                <li><strong>Authority</strong> = 연산 담당 서버 (가까운 쪽)</li>
                <li><strong>월드 매니저</strong> = 전체를 보고 경계 조절하는 상위 관리자</li>
            </ul>
        </div>

        <!-- 마무리 Q&A -->
        <div class="conversation">
            <h2>추가 Q&A</h2>

            <div class="chat">
                <div class="q">이 방식 말고 다른 심리스 방식도 있어?</div>
                <div class="a">
                    <p>네, <span class="highlight">AOI(Area of Interest)</span> 기반 방식도 있습니다.</p>
                    <p>존으로 월드를 나누는 게 아니라, 유저 주변 일정 반경만 동기화하는 방식이에요.</p>
                    <p>여기서는 Zone 기반 방식만 다뤘습니다.</p>
                </div>
            </div>
        </div>

        <div class="nav-links">
            <a href="../category-cs/">&larr; CS 기초 목록</a>
            <a href="../../">메인으로 &rarr;</a>
        </div>
    </div>
</body>
</html>
