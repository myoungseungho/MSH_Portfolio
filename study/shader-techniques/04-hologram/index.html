<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hologram (홀로그램) - MSH Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.8;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        .nav {
            margin-bottom: 40px;
        }

        .nav a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            margin-right: 12px;
        }

        .nav a:hover {
            color: #333;
        }

        .header {
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: #111;
        }

        .header-meta {
            display: flex;
            gap: 20px;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .header-meta span {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background: #00BCD4;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #111;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        .section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 30px 0 15px 0;
            color: #333;
        }

        .section p {
            margin-bottom: 16px;
            color: #444;
        }

        .section ul {
            margin-left: 20px;
            margin-bottom: 16px;
        }

        .section li {
            margin-bottom: 8px;
            color: #444;
        }

        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: #00BCD4;
        }

        pre code {
            background: none;
            padding: 0;
            color: #d4d4d4;
        }

        .img-container {
            margin: 30px 0;
            text-align: center;
        }

        .img-container img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .img-caption {
            margin-top: 12px;
            font-size: 0.85rem;
            color: #666;
        }

        .highlight-box {
            background: #e0f7fa;
            border-left: 4px solid #00BCD4;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .highlight-box h4 {
            color: #00838f;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .formula-box {
            background: white;
            border: 2px solid #00BCD4;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .formula {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.2rem;
            color: #00838f;
            margin: 10px 0;
        }

        .question-box {
            background: #fff3e0;
            border-left: 4px solid #FF9800;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .question-box h4 {
            color: #e65100;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .param-table th,
        .param-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        .param-table th {
            background: #00BCD4;
            color: white;
            font-weight: 600;
        }

        .param-table tr:last-child td {
            border-bottom: none;
        }

        .footer-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }

        .footer-nav a {
            color: #00BCD4;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .footer-nav a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="nav">
            <a href="../../">← 메인</a>
            <a href="../">← 쉐이더 테크닉 목록</a>
        </nav>

        <header class="header">
            <h1>04. Hologram (홀로그램)</h1>
            <div class="header-meta">
                <span>작성일: 2026-01-13</span>
                <span>구현 완료</span>
                <span>난이도: ★★☆</span>
            </div>
            <div class="tags">
                <span class="tag">DirectX 11</span>
                <span class="tag">HLSL</span>
                <span class="tag">frac()</span>
                <span class="tag">Fresnel</span>
                <span class="tag">Glitch</span>
            </div>
        </header>

        <!-- 미리보기 이미지 -->
        <div class="img-container">
            <img src="../../../Screenshots/hologram/step4.gif" alt="Hologram 최종 결과" onerror="this.style.display='none'">
            <p class="img-caption">Hologram - SF 영화처럼 반투명하게 빛나는 홀로그램 효과</p>
        </div>

        <!-- 개요 -->
        <section class="section">
            <h2>홀로그램 하면 뭐가 떠오르나요?</h2>
            <p>
                <strong>스타워즈</strong>에서 레아 공주가 "오비완 케노비, 당신만이 희망입니다" 하는 장면,
                <strong>아이언맨</strong>이 허공에 UI 띄워놓고 만지작거리는 장면 본 적 있죠?
            </p>
            <p>
                이런 SF스러운 <strong>홀로그램 효과</strong>를 직접 만들어볼 거예요.
            </p>

            <div class="question-box">
                <h4>생각해보기: 홀로그램의 시각적 특징은?</h4>
                <p>영화나 게임에서 홀로그램을 봤을 때, 어떤 공통적인 특징이 있었나요?</p>
            </div>

            <p>정리하면 이런 특징들이 있어요:</p>
            <ul>
                <li><strong>반투명</strong> - 뒤가 비쳐 보임</li>
                <li><strong>사르륵</strong> - 수평선이 위로 흘러가는 느낌 (스캔라인)</li>
                <li><strong>외곽이 더 밝음</strong> - 가장자리가 빛나는 느낌</li>
                <li><strong>파편화/글리치</strong> - 지직거리면서 깜빡이는 느낌</li>
            </ul>

            <div class="highlight-box">
                <h4>홀로그램 = 4가지 효과의 조합</h4>
                <p>홀로그램은 하나의 기법이 아니라, <strong>여러 효과를 레이어처럼 쌓아서</strong> 만드는 복합 효과입니다.</p>
            </div>
        </section>

        <!-- 스캔라인 원리 -->
        <section class="section">
            <h2>원리 1: 스캔라인 - "사르륵" 흘러가는 줄무늬</h2>

            <div class="question-box">
                <h4>스캔라인이란?</h4>
                <p>옛날 브라운관 TV를 본 적 있나요? 가까이 보면 수평 줄무늬가 보였죠.
                홀로그램에서도 이런 <strong>수평선이 위로 흘러가는</strong> 느낌을 줘요.</p>
            </div>

            <h3>줄무늬를 어떻게 만들까?</h3>
            <p>
                스캔라인은 <strong>수평선이 일정 간격으로 반복</strong>되는 거예요.
            </p>
            <pre><code>■■■■■■■■■■  ← 밝은 줄
□□□□□□□□□□  ← 어두운 줄
■■■■■■■■■■  ← 밝은 줄
□□□□□□□□□□  ← 어두운 줄</code></pre>
            <p>
                이걸 만들려면 <strong>Y 좌표</strong>를 이용해야 해요.
                픽셀의 Y좌표가 0, 1, 2, 3... 올라갈 때, 0~1 사이 값이 반복되게 하고 싶어요.
            </p>

            <h3>frac() 함수 - 소수점만 뽑기</h3>
            <p>
                <code>frac()</code>은 <strong>소수점 부분만</strong> 뽑아내는 함수예요.
            </p>
            <pre><code>frac(1.7) = 0.7
frac(2.3) = 0.3
frac(5.0) = 0.0
frac(0.9) = 0.9</code></pre>
            <p>
                Y좌표에 밀도를 곱하면 <strong>0~1이 반복</strong>되면서 줄무늬가 생겨요.
            </p>
            <pre><code>float scanline = frac(Y * 10.0);
// Y가 0→1일 때: 0~1이 10번 반복!</code></pre>

            <h3>step() 함수 - 딱딱 끊기</h3>
            <p>
                지금은 부드러운 그라디언트예요. 딱딱 끊어서 줄무늬를 만들려면 <code>step()</code>을 써요.
            </p>
            <pre><code>float scanline = step(0.5, frac(Y * 10.0));
// frac 값이 0.5 미만 → 0 (어두운 줄)
// frac 값이 0.5 이상 → 1 (밝은 줄)</code></pre>

            <h3>Time으로 흘러가게 만들기</h3>
            <p>
                지금은 줄무늬가 고정돼 있어요. <strong>"사르륵" 위로 흘러가게</strong> 하려면 Time을 더해요.
            </p>
            <pre><code>float scanline = step(0.5, frac(Y * 10.0 + Time));
// Time이 증가하면 → 줄무늬가 위로 스크롤!</code></pre>

            <div class="formula-box">
                <p><strong>스캔라인 공식</strong></p>
                <div class="formula">scanline = step(0.5, frac(Y * density + Time))</div>
            </div>
        </section>

        <!-- 프레넬 원리 -->
        <section class="section">
            <h2>원리 2: 프레넬 - 외곽이 빛나는 효과</h2>

            <div class="question-box">
                <h4>왜 가장자리가 더 밝게 보일까?</h4>
                <p>홀로그램을 보면 <strong>외곽 테두리가 더 밝게</strong> 빛나요. 이건 "프레넬 효과"로 만들어요.</p>
            </div>

            <h3>정면 vs 가장자리 구분하기</h3>
            <p>
                구체를 바라볼 때, <strong>정면</strong>은 표면이 나를 똑바로 바라보고,
                <strong>가장자리</strong>는 표면이 옆을 향해요.
            </p>
            <ul>
                <li><strong>N</strong> (Normal): 표면이 향하는 방향</li>
                <li><strong>V</strong> (View): 카메라가 보는 방향</li>
            </ul>
            <p>
                <code>dot(N, V)</code>는 두 방향이 얼마나 같은지 알려줘요.
            </p>
            <ul>
                <li>같은 방향 (정면) → 1</li>
                <li>수직 (가장자리) → 0</li>
            </ul>

            <h3>값 뒤집기</h3>
            <p>
                우리는 <strong>가장자리가 밝기</strong>를 원해요. 근데 dot 결과는 정면이 1이에요.
                <strong>1에서 빼면</strong> 뒤집어져요!
            </p>
            <pre><code>float fresnel = 1.0 - dot(N, V);
// 정면: 1 - 1 = 0 (어두움)
// 가장자리: 1 - 0 = 1 (밝음)</code></pre>

            <h3>pow()로 가장자리에만 집중</h3>
            <p>
                지금은 넓게 퍼지는 그라디언트예요. <strong>딱 테두리만</strong> 빛나게 하려면 <code>pow()</code>로 제곱해요.
            </p>
            <pre><code>float fresnel = pow(1.0 - dot(N, V), 3.0);
// power가 높을수록 가장자리에만 집중!</code></pre>

            <div class="formula-box">
                <p><strong>프레넬 공식</strong></p>
                <div class="formula">fresnel = pow(1.0 - dot(N, V), power)</div>
            </div>
        </section>

        <!-- 글리치 원리 -->
        <section class="section">
            <h2>원리 3: 글리치 - 지직거리는 깜빡임</h2>

            <div class="question-box">
                <h4>글리치는 왜 "불규칙"해 보일까?</h4>
                <p>홀로그램이 지직거리면서 깨지는 느낌은 <strong>규칙적이면 안 되고, 랜덤해 보여야</strong> 해요.</p>
            </div>

            <h3>노이즈로 불규칙함 만들기</h3>
            <p>
                <strong>노이즈</strong>는 0~1 사이의 불규칙한 값을 만들어줘요.
                이걸로 "어디가 깜빡일지" 결정해요.
            </p>
            <pre><code>float glitch = noise(Y + Time);
// Y 위치와 시간에 따라 불규칙한 값</code></pre>

            <h3>discard로 픽셀 버리기</h3>
            <p>
                노이즈 값이 특정 기준보다 낮으면 <strong>그 픽셀을 안 그려요</strong>.
            </p>
            <pre><code>if (glitch < 0.1)
    discard;  // 이 픽셀 버림 → 깜빡!</code></pre>
            <p>
                <code>discard</code>는 "이 픽셀 그리지 마"라는 명령이에요.
                노이즈가 낮은 곳이 순간적으로 사라지면서 지직거리는 효과가 나요.
            </p>

            <div class="formula-box">
                <p><strong>글리치 공식</strong></p>
                <div class="formula">if (noise(Y + Time) < threshold) discard;</div>
            </div>
        </section>

        <!-- 알파 원리 -->
        <section class="section">
            <h2>원리 4: 알파 - 반투명 효과</h2>

            <div class="question-box">
                <h4>반투명은 어떻게?</h4>
                <p>홀로그램은 <strong>뒤가 비쳐 보여야</strong> 해요. 이건 알파(투명도) 값으로 조절해요.</p>
            </div>

            <p>
                색상의 알파값을 0~1 사이로 설정하면 반투명해져요.
            </p>
            <pre><code>return float4(color, 0.7);  // 70% 불투명</code></pre>
            <p>
                프레넬과 결합하면 <strong>가장자리는 더 불투명하고, 중앙은 더 투명</strong>하게 만들 수도 있어요.
            </p>
            <pre><code>float alpha = 0.5 + fresnel * 0.5;
// 가장자리: 0.5 + 1*0.5 = 1.0 (불투명)
// 중앙: 0.5 + 0*0.5 = 0.5 (반투명)</code></pre>
        </section>

        <!-- 단계별 구현 과정 -->
        <section class="section">
            <h2>단계별 구현 과정</h2>
            <p>이제 4가지 효과를 하나씩 쌓아가며 홀로그램을 완성해볼게요.</p>

            <h3>Step 1: 스캔라인만</h3>
            <div class="img-container">
                <img src="../../../Screenshots/hologram/step1.gif" alt="Step 1: 스캔라인" onerror="this.style.display='none'">
                <p class="img-caption">Step 1: frac()으로 만든 스캔라인이 위로 흘러감</p>
            </div>
            <p><strong>목적</strong>: frac()으로 줄무늬 만들고, Time으로 애니메이션</p>
            <pre><code>// 월드 Y 좌표 사용 (스캔라인은 수평으로)
float y = input.WorldPos.y;

// frac으로 0~1 반복 + Time으로 스크롤
float scanValue = frac(y * ScanlineDensity + Time * ScanlineSpeed);

// step으로 줄무늬 만들기
float scanline = step(0.5, scanValue);

return float4(scanline, scanline, scanline, 1.0);</code></pre>

            <h3>Step 2: 스캔라인 + 프레넬</h3>
            <div class="img-container">
                <img src="../../../Screenshots/hologram/step2.gif" alt="Step 2: 프레넬 추가" onerror="this.style.display='none'">
                <p class="img-caption">Step 2: 외곽이 더 밝게 빛남!</p>
            </div>
            <p><strong>목적</strong>: 가장자리 글로우 추가</p>
            <pre><code>float3 N = normalize(input.Normal);
float3 V = normalize(input.ViewDir);

// 프레넬 계산
float NdotV = dot(N, V);
float fresnel = pow(1.0 - saturate(NdotV), FresnelPower);

// 스캔라인 + 프레넬 결합
float intensity = fresnel + scanline * 0.3;
float3 color = HoloColor * intensity;</code></pre>

            <h3>Step 3: + 글리치</h3>
            <div class="img-container">
                <img src="../../../Screenshots/hologram/step3.gif" alt="Step 3: 글리치" onerror="this.style.display='none'">
                <p class="img-caption">Step 3: 지직거리는 글리치 효과!</p>
            </div>
            <p><strong>목적</strong>: 불규칙한 깜빡임 추가</p>
            <pre><code>// 노이즈 생성
float glitchNoise = noise(y * 20.0 + Time * 10.0);

// 노이즈 값이 낮으면 픽셀 버리기 (깜빡!)
if (glitchNoise < GlitchIntensity)
{
    discard;
}</code></pre>

            <h3>Step 4: 최종 (반투명)</h3>
            <div class="img-container">
                <img src="../../../Screenshots/hologram/step4.gif" alt="Step 4: 최종" onerror="this.style.display='none'">
                <p class="img-caption">Step 4: 완성! 반투명 + 모든 효과</p>
            </div>
            <p><strong>목적</strong>: 알파 블렌딩으로 진짜 홀로그램처럼</p>
            <pre><code>// 알파 계산 - 프레넬로 가장자리 더 불투명
float alpha = Alpha * (0.5 + fresnel * 0.5);

// 스캔라인 영역은 살짝 더 투명
alpha *= (0.8 + scanline * 0.2);

return float4(color, alpha);</code></pre>

            <div class="highlight-box">
                <h4>단계별 요약</h4>
                <ul>
                    <li><strong>Step 1</strong>: 스캔라인 - frac()으로 줄무늬, Time으로 스크롤</li>
                    <li><strong>Step 2</strong>: + 프레넬 - 가장자리 글로우</li>
                    <li><strong>Step 3</strong>: + 글리치 - noise + discard로 깜빡임</li>
                    <li><strong>Step 4</strong>: + 알파 - 반투명으로 완성</li>
                </ul>
            </div>
        </section>

        <!-- 파라미터 -->
        <section class="section">
            <h2>파라미터 조정</h2>

            <table class="param-table">
                <thead>
                    <tr>
                        <th>파라미터</th>
                        <th>설명</th>
                        <th>권장 범위</th>
                        <th>효과</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ScanlineDensity</strong></td>
                        <td>스캔라인 밀도</td>
                        <td>5 ~ 30</td>
                        <td>높을수록 줄무늬 촘촘</td>
                    </tr>
                    <tr>
                        <td><strong>ScanlineSpeed</strong></td>
                        <td>스캔라인 속도</td>
                        <td>1 ~ 5</td>
                        <td>높을수록 빠르게 흐름</td>
                    </tr>
                    <tr>
                        <td><strong>FresnelPower</strong></td>
                        <td>프레넬 강도</td>
                        <td>1 ~ 5</td>
                        <td>높을수록 외곽만 빛남</td>
                    </tr>
                    <tr>
                        <td><strong>GlitchIntensity</strong></td>
                        <td>글리치 강도</td>
                        <td>0 ~ 0.3</td>
                        <td>높을수록 많이 깜빡임</td>
                    </tr>
                    <tr>
                        <td><strong>Alpha</strong></td>
                        <td>전체 투명도</td>
                        <td>0.3 ~ 0.8</td>
                        <td>낮을수록 투명</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- 학습 포인트 -->
        <section class="section">
            <h2>핵심 정리</h2>

            <div class="highlight-box">
                <h4>홀로그램에 사용된 핵심 함수</h4>
                <ul>
                    <li><strong>frac(x)</strong>: 소수점만 추출 → 반복 패턴 만들기</li>
                    <li><strong>step(edge, x)</strong>: 경계 기준으로 0 또는 1 → 줄무늬</li>
                    <li><strong>dot(N, V)</strong>: 정면/가장자리 구분 → 프레넬</li>
                    <li><strong>pow(x, p)</strong>: 값을 곡선으로 조절 → 효과 집중</li>
                    <li><strong>noise()</strong>: 불규칙한 값 → 글리치</li>
                    <li><strong>discard</strong>: 픽셀 버리기 → 깜빡임</li>
                </ul>
            </div>

            <h3>홀로그램이 쓰이는 곳</h3>
            <ul>
                <li><strong>SF UI</strong>: 허공에 뜨는 인터페이스</li>
                <li><strong>통신 영상</strong>: 원격 대화 연출</li>
                <li><strong>아이템</strong>: 데이터 칩, 디지털 오브젝트</li>
                <li><strong>보스 등장</strong>: 홀로그램으로 먼저 등장 후 실체화</li>
            </ul>
        </section>

        <footer class="footer-nav">
            <a href="../03-dissolve/">← 03. Dissolve</a>
            <a href="../">쉐이더 테크닉 목록 →</a>
        </footer>
    </div>
</body>
</html>
